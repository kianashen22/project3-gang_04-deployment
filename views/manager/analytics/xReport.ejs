<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="/css/managerStyle.css">
    <title>X Report</title>
</head>
<body>
    <div class = "managerNavBarContainer">
        <div id = "left">
            <div>
                <a href="analyticsOptions"> <img height = "55px" src="/img/skipBack.png">Back</a>
            </div>
            <div>
                <a href = "/logout"> <img height = "55px" src="/img/logInOrOut.png">Logout</a>
            </div>
        </div>

        <div id = "right">
            <div>
                <!--    this is the start of google translate code-->
                <div id="google_translate_element"></div>
                <script type="text/javascript">
                    function googleTranslateElementInit() {
                        new google.translate.TranslateElement({pageLanguage: 'en'}, 'google_translate_element');
                    }
                </script>
                <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
                <!--    this is the end of google translate code-->
            </div>
        </div>
    </div>

    <div class = "xReportPage">
        <div id = "title">
            <h1>X-Report (Hourly Sales)</h1>
        </div>
        
        <div>
            <p>Total Sales Today: <strong>$<%= daily %></strong></p>
        </div>

        <div>
            <h2>Hourly Breakdown</h2>
        </div>

        <div id = "reportTable">
            <table>
                <thead>
                <tr>
                    <th>Hour</th>
                    <th>Sales</th>
                </tr>
                </thead>
                <tbody>
                <% if (hourly.length === 0) { %>
                    <tr><td colspan="2">No sales recorded today.</td></tr>
                <% } else { %>
                    <% hourly.forEach(row => { %>
                        <tr>
                            <td><%= row.hour %>:00</td>
                            <td>$<%= row.hourly_sales %></td>
                        </tr>
                    <% }) %>
                <% } %>
                </tbody>
            </table>
        </div>

        <div id = "submitButton">
            <button onclick="/generateXReport">Refresh</button>
        </div>
    </div>
</body>
</html>
